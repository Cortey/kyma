---
# Source: rafter/charts/controller-manager/charts/minio/templates/psp.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: RELEASE-NAME-minio
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
spec:
  allowPrivilegeEscalation: false
  privileged: false
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    rule: 'MustRunAsNonRoot'
  seLinux:
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 1
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 1
        max: 65535
  readOnlyRootFilesystem: false
  volumes:
    - "persistentVolumeClaim"
    - "secret"
    - "emptyDir"
    - "configMap"
    - "projected"
    - "downwardAPI"
---
# Source: rafter/charts/controller-manager/templates/psp.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: rafter-ctrl-mngr
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
spec:
  allowPrivilegeEscalation: false
  privileged: false
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    rule: 'MustRunAsNonRoot'
  seLinux:
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 1
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 1
        max: 65535
  readOnlyRootFilesystem: true
  volumes:
    - "emptyDir"
---
# Source: rafter/templates/psp.yaml
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: RELEASE-NAME-rafter
  labels:
    app: rafter
    chart: rafter-1.0.0
    release: RELEASE-NAME
    heritage: Helm
spec:
  allowPrivilegeEscalation: false
  privileged: false
  hostNetwork: false
  hostIPC: false
  hostPID: false
  runAsUser:
    rule: 'MustRunAsNonRoot'
  seLinux:
    rule: 'RunAsAny'
  supplementalGroups:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 1
        max: 65535
  fsGroup:
    rule: 'MustRunAs'
    ranges:
      # Forbid adding the root group.
      - min: 1
        max: 65535
  readOnlyRootFilesystem: true
  volumes:
    - "emptyDir"
    - "secret"
    - "downwardAPI"
    - "configMap"
    - "persistentVolumeClaim"
    - "projected"
---
# Source: rafter/charts/asyncapi-service/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: rafter-asyncapi-service
  namespace: default
  labels:
    app.kubernetes.io/name: asyncapi-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: asyncapi-service-0.1.0
---
# Source: rafter/charts/controller-manager/charts/minio/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: "RELEASE-NAME-minio"
  namespace: "default"
---
# Source: rafter/charts/controller-manager/templates/service-account.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: rafter-controller-manager
  namespace: default
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
---
# Source: rafter/charts/front-matter-service/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: rafter-front-matter-service
  namespace: default
  labels:
    app.kubernetes.io/name: front-matter-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: front-matter-service-0.1.0
---
# Source: rafter/charts/upload-service/templates/service-account.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: rafter-upload-service
  namespace: default
  labels:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
---
# Source: rafter/templates/tests/rbac.yaml
kind: ServiceAccount
apiVersion: v1
metadata:
  name: RELEASE-NAME-rafter-tests
  labels:
    app.kubernetes.io/name: rafter-tests
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: rafter-1.0.0
---
# Source: rafter/charts/asyncapi-service/templates/dashboard-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: rafter-asyncapi-service-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  rafter-asyncapi-service-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "editable": false,
      "gnetId": null,
      "graphTooltip": 0,
      "id": 52,
      "iteration": 1575908819830,
      "links": [],
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 42,
          "panels": [],
          "title": "Runtime Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 1
          },
          "id": 16,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_gc_duration_seconds{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{quantile}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "GC duration [s]",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 1
          },
          "id": 24,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "process_open_fds{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{service}}",
              "metric": "process_open_fds",
              "refId": "A",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "open fds",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 1
          },
          "id": 18,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_threads{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Gothreads",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "id": 22,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "alloc rate",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "bytes allocated",
              "metric": "go_memstats_alloc_bytes",
              "refId": "A",
              "step": 4
            },
            {
              "expr": "rate(go_memstats_alloc_bytes_total{service=\"rafter-asyncapi-service\"}[30s])",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "alloc rate",
              "metric": "go_memstats_alloc_bytes_total",
              "refId": "B",
              "step": 4
            },
            {
              "expr": "go_memstats_stack_inuse_bytes{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "stack inuse",
              "metric": "go_memstats_stack_inuse_bytes",
              "refId": "C",
              "step": 4
            },
            {
              "expr": "go_memstats_heap_inuse_bytes{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "heap inuse",
              "metric": "go_memstats_heap_inuse_bytes",
              "refId": "D",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "go memstats",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "Bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 8
          },
          "id": 17,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_goroutines{service=\"rafter-asyncapi-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Goroutines",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 15
          },
          "id": 38,
          "panels": [],
          "title": "Kubernetes Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 10,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(container) (container_memory_usage_bytes{pod_=~\"rafter-asyncapi-svc-.*\", container!=\"POD\"})",
              "format": "time_series",
              "instant": false,
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "Current: {{container}}",
              "metric": "container_memory_usage_bytes",
              "refId": "A",
              "step": 15
            },
            {
              "expr": "kube_pod_container_resource_requests_memory_bytes{pod=~\"rafter-asyncapi-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_memory_bytes",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_memory_bytes{pod=~\"rafter-asyncapi-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Memory Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 8,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by (container)(rate(container_cpu_usage_seconds_total{image!=\"\",container!=\"POD\",pod=~\"rafter-asyncapi-svc-.*\"}[1m]))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "{{container}}",
              "refId": "A",
              "step": 30
            },
            {
              "expr": "kube_pod_container_resource_requests_cpu_cores{pod=~\"rafter-asyncapi-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_cpu_cores",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_cpu_cores{pod=~\"rafter-asyncapi-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "CPU Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 23
          },
          "id": 12,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sort_desc(sum by (pod) (rate(container_network_receive_bytes_total{pod=~\"rafter-asyncapi-svc-.*\"}[1m])))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{pod}}",
              "refId": "A",
              "step": 30
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Network I/O",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 30
          },
          "id": 52,
          "panels": [],
          "title": "Service metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "description": "This chart shows a number of requests processed by the /convert endpoint in a given time series (in seconds).",
          "fill": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 44,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.005\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "A"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.01\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "B"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.025\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "C"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.05\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "D"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "E"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.25\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "L"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"0.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "F"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "G"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"2.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "I"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "J"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"10\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "H"
            },
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_bucket{le=\"+Inf\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "K"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of mutated assets",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "description": "This chart shows a number of requests processed by the /validate endpoint in a given time series (in seconds).",
          "fill": 0,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 46,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.005\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "A"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.01\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "B"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.025\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "C"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.05\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "D"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "E"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.25\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "L"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"0.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "F"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "G"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"2.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "I"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "J"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"10\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "H"
            },
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_bucket{le=\"+Inf\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "K"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of validated assets",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "datasource": "Prometheus",
          "decimals": 6,
          "description": "",
          "format": "s",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 4,
            "w": 5,
            "x": 3,
            "y": 39
          },
          "id": 48,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "tableColumn": "",
          "targets": [
            {
              "expr": "rafter_services_http_request_and_mutation_duration_seconds_sum/rafter_services_http_request_and_mutation_duration_seconds_count",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Average mutation time",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            {
              "op": "=",
              "text": "0",
              "value": "N/A"
            },
            {
              "op": "=",
              "text": "0",
              "value": "null"
            }
          ],
          "valueName": "max"
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "datasource": "Prometheus",
          "decimals": 6,
          "description": "",
          "format": "s",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 4,
            "w": 5,
            "x": 16,
            "y": 39
          },
          "id": 50,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "tableColumn": "",
          "targets": [
            {
              "expr": "rafter_services_http_request_and_validation_duration_seconds_sum/rafter_services_http_request_and_validation_duration_seconds_count",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Average validation time",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            {
              "op": "=",
              "text": "0",
              "value": "null"
            }
          ],
          "valueName": "max"
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "fill": 1,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 43
          },
          "id": 55,
          "interval": "",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_services_handle_mutation_status_code",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{status_code}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of returned HTTP response status codes from mutation endpoint",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "fill": 1,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 43
          },
          "id": 56,
          "interval": "",
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_services_handle_validation_status_code",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{status_code}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of returned HTTP response status codes from validation endpoint",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 18,
      "style": "dark",
      "tags": [
        "assets",
        "kyma"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": true,
              "text": "service-catalog-apiserver",
              "value": "service-catalog-apiserver"
            },
            "hide": 2,
            "label": null,
            "name": "apiserverdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-apiserver",
                "value": "service-catalog-apiserver"
              }
            ],
            "query": "service-catalog-apiserver",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-controller-manager",
              "value": "service-catalog-controller-manager"
            },
            "hide": 2,
            "label": null,
            "name": "controllerdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-controller-manager",
                "value": "service-catalog-controller-manager"
              }
            ],
            "query": "service-catalog-controller-manager",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful-client",
              "value": "service-catalog-etcd-stateful-client"
            },
            "hide": 2,
            "label": null,
            "name": "etcd_cluster",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful-client",
                "value": "service-catalog-etcd-stateful-client"
              }
            ],
            "query": "service-catalog-etcd-stateful-client",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful",
              "value": "service-catalog-etcd-stateful"
            },
            "hide": 2,
            "label": null,
            "name": "etcddeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful",
                "value": "service-catalog-etcd-stateful"
              }
            ],
            "query": "service-catalog-etcd-stateful",
            "skipUrlSync": false,
            "type": "constant"
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "",
      "title":   "Kyma / Rafter /  AsyncAPI Service",
      "uid": "_MIdIJiZds",
      "version": 2
    }
---
# Source: rafter/charts/controller-manager/charts/minio/templates/dashboard-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: minio-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  minio-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "description": "minio dashboard",
      "editable": false,
      "gnetId": 6248,
      "graphTooltip": 0,
      "id": 2,
      "iteration": 1576073534362,
      "links": [],
      "panels": [
        {
          "content": "Minio is a high performance distributed object storage server. In Kyma it is used as a dependency for the Rafter component. For more information, check out the <a href=\"https://kyma-project.io/docs/components/rafter\">docs</a>.",
          "gridPos": {
            "h": 5,
            "w": 8,
            "x": 0,
            "y": 0
          },
          "id": 8,
          "links": [],
          "mode": "html",
          "title": "",
          "transparent": true,
          "type": "text"
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
          ],
          "datasource": "Prometheus",
          "description": "Start time of the Minio server",
          "format": "dtdurations",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": false
          },
          "gridPos": {
            "h": 5,
            "w": 16,
            "x": 8,
            "y": 0
          },
          "id": 1,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": true
          },
          "tableColumn": "Value",
          "targets": [
            {
              "expr": "time() - max(process_start_time_seconds)",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Start time of the Minio server",
              "metric": "process_start_time_seconds",
              "refId": "A",
              "step": 60
            }
          ],
          "thresholds": "",
          "title": "Uptime",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            }
          ],
          "valueName": "avg"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": null,
          "description": "Data sent by current Minio server instance",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 5
          },
          "id": 4,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": true,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(s3_tx_bytes_total{service=\"$service\"}[1m])",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "Transmited:",
              "metric": "s3_tx_bytes_total",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Data Transmited",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "decbytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "decbytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": null,
          "description": "Data received by current Minio server instance",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 5
          },
          "id": 5,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": true,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(s3_rx_bytes_total{service=\"$service\"}[1m])",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "Received:",
              "metric": "s3_rx_bytes_total",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Data Received",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "decbytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "decbytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "description": "Data received x transmited by current Minio server instance",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 5
          },
          "height": "",
          "id": 6,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(s3_rx_bytes_total{service=\"$service\"}[1m])",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "Received: ",
              "metric": "s3_rx_bytes_total",
              "refId": "A",
              "step": 10
            },
            {
              "expr": "rate(s3_tx_bytes_total{service=\"$service\"}[1m])",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "Transmited:",
              "refId": "B",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Total In/Out Throughput",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "decbytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "decbytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "description": "The current aggregate time spent serving all HTTP requests in seconds",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 12
          },
          "id": 7,
          "legend": {
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(s3_ttfb_seconds_sum{service=\"$service\"}[1m])",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "{{ api }}",
              "metric": "s3_ttfb_seconds_sum",
              "refId": "A",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "HTTP Requests duration/s",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "s",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "id": 10,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(go_goroutines{service=\"$service\"}[1m])",
              "format": "time_series",
              "intervalFactor": 2,
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Goroutines Rate",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 19
          },
          "id": 12,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_goroutines{service=\"$service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Goroutines Number",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 18,
      "style": "dark",
      "tags": [
        "assets",
        "kyma"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "text": "rafter-minio",
              "value": "rafter-minio"
            },
            "hide": 2,
            "label": null,
            "name": "service",
            "options": [
              {
                "text": "rafter-minio",
                "value": "rafter-minio"
              }
            ],
            "query": "rafter-minio",
            "skipUrlSync": false,
            "type": "constant"
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "",
      "title":   "Kyma / Rafter /  Controller Manager / Minio",
      "uid": "EHNtE69ik",
      "version": 1
    }
---
# Source: rafter/charts/controller-manager/charts/minio/templates/rafter-minio-envs.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: RELEASE-NAME-minio-envs
data:
  APP_UPLOAD_ENDPOINT: RELEASE-NAME-minio.default.svc.cluster.local
  APP_UPLOAD_SECURE: 'false'
  APP_UPLOAD_PORT: '9000'
  APP_UPLOAD_ENDPOINT_WITH_PORT: 'RELEASE-NAME-minio.default.svc.cluster.local:9000'
  APP_BUCKET_REGION: us-east-1
  APP_INTERNAL_ENDPOINT: 'http://RELEASE-NAME-minio.default.svc.cluster.local:9000'
  APP_EXTERNAL_ENDPOINT: 'https://storage.kyma.example.com'
  APP_VERBOSE: 'true'
---
# Source: rafter/charts/controller-manager/templates/dashboard-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: rafter-controller-manager-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  rafter-controller-manager-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "editable": false,
      "gnetId": null,
      "graphTooltip": 0,
      "id": 46,
      "iteration": 1575904210846,
      "links": [],
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 49,
          "panels": [],
          "title": "Runtime Business Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "description": "This chart shows how long a custom resource waited for processing by the controller.",
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 1
          },
          "id": 46,
          "legend": {
            "avg": true,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(workqueue_queue_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"asset\"}[1m]) / rate(workqueue_queue_duration_seconds_count{service=\"rafter-controller-manager\", name=\"asset\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Asset",
              "refId": "A"
            },
            {
              "expr": "rate(workqueue_queue_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"clusterasset\"}[1m]) / rate(workqueue_queue_duration_seconds_count{service=\"rafter-controller-manager\", name=\"clusterasset\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterAsset",
              "refId": "B"
            },
            {
              "expr": "rate(workqueue_queue_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"bucket\"}[1m]) / rate(workqueue_queue_duration_seconds_count{service=\"rafter-controller-manager\", name=\"bucket\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Bucket",
              "refId": "C"
            },
            {
              "expr": "rate(workqueue_queue_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"clusterbucket\"}[1m]) / rate(workqueue_queue_duration_seconds_count{service=\"rafter-controller-manager\", name=\"clusterbucket\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterBucket",
              "refId": "D"
            },
            {
              "expr": "rate(workqueue_queue_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"assetgroup\"}[1m]) / rate(workqueue_queue_duration_seconds_count{service=\"rafter-controller-manager\", name=\"assetgroup\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "AssetGroup",
              "refId": "E"
            },
            {
              "expr": "rate(workqueue_queue_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"clusterassetgroup\"}[1m]) / rate(workqueue_queue_duration_seconds_count{service=\"rafter-controller-manager\", name=\"clusterassetgroup\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterAssetGroup",
              "refId": "F"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Reconcile Latency",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": "Average reconcile time [s]",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "description": "This chart shows how many custom resources are waiting for processing by the controller.",
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1
          },
          "id": 44,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "expr": "increase(workqueue_depth{job=\"rafter-controller-manager\", name=\"asset\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Asset",
              "refId": "A"
            },
            {
              "expr": "increase(workqueue_depth{job=\"rafter-controller-manager\", name=\"bucket\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Bucket",
              "refId": "B"
            },
            {
              "expr": "increase(workqueue_depth{job=\"rafter-controller-manager\", name=\"clusterasset\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterAsset",
              "refId": "C"
            },
            {
              "expr": "increase(workqueue_depth{job=\"rafter-controller-manager\", name=\"clusterbucket\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterBucket",
              "refId": "D"
            },
            {
              "expr": "increase(workqueue_depth{job=\"rafter-controller-manager\", name=\"assetgroup\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "AssetGroup",
              "refId": "E"
            },
            {
              "expr": "increase(workqueue_depth{job=\"rafter-controller-manager\", name=\"clusterassetgroup\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterAssetGroup",
              "refId": "F"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Queue Length",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": 0,
              "format": "short",
              "label": "Average Queue Length",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "description": "This chart shows how long it took for the controller to process a custom resource.",
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 9
          },
          "id": 47,
          "legend": {
            "avg": true,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null as zero",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(workqueue_work_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"asset\"}[1m]) / rate(workqueue_work_duration_seconds_count{service=\"rafter-controller-manager\", name=\"asset\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Asset",
              "refId": "A"
            },
            {
              "expr": "rate(workqueue_work_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"clusterasset\"}[1m]) / rate(workqueue_work_duration_seconds_count{service=\"rafter-controller-manager\", name=\"clusterasset\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterAsset",
              "refId": "B"
            },
            {
              "expr": "rate(workqueue_work_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"bucket\"}[1m]) / rate(workqueue_work_duration_seconds_count{service=\"rafter-controller-manager\", name=\"bucket\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "Bucket",
              "refId": "C"
            },
            {
              "expr": "rate(workqueue_work_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"clusterbucket\"}[1m]) / rate(workqueue_work_duration_seconds_count{service=\"rafter-controller-manager\", name=\"clusterbucket\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterBucket",
              "refId": "D"
            },
            {
              "expr": "rate(workqueue_work_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"assetgroup\"}[1m]) / rate(workqueue_work_duration_seconds_count{service=\"rafter-controller-manager\", name=\"assetgroup\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "AssetGroup",
              "refId": "E"
            },
            {
              "expr": "rate(workqueue_work_duration_seconds_sum{service=\"rafter-controller-manager\", name=\"clusterassetgroup\"}[1m]) / rate(workqueue_work_duration_seconds_count{service=\"rafter-controller-manager\", name=\"clusterassetgroup\"}[1m])",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "ClusterAssetGroup",
              "refId": "F"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Reconcile Time",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": "Average reconcile time [s]",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 17
          },
          "id": 42,
          "panels": [],
          "title": "Runtime Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 18
          },
          "id": 16,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_gc_duration_seconds{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{quantile}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "GC duration [s]",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 18
          },
          "id": 24,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "process_open_fds{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{service}}",
              "metric": "process_open_fds",
              "refId": "A",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "open fds",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 18
          },
          "id": 18,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_threads{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Gothreads",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 25
          },
          "id": 22,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "alloc rate",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "bytes allocated",
              "metric": "go_memstats_alloc_bytes",
              "refId": "A",
              "step": 4
            },
            {
              "expr": "rate(go_memstats_alloc_bytes_total{service=\"rafter-controller-manager\"}[30s])",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "alloc rate",
              "metric": "go_memstats_alloc_bytes_total",
              "refId": "B",
              "step": 4
            },
            {
              "expr": "go_memstats_stack_inuse_bytes{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "stack inuse",
              "metric": "go_memstats_stack_inuse_bytes",
              "refId": "C",
              "step": 4
            },
            {
              "expr": "go_memstats_heap_inuse_bytes{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "heap inuse",
              "metric": "go_memstats_heap_inuse_bytes",
              "refId": "D",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "go memstats",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "Bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 25
          },
          "id": 17,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_goroutines{service=\"rafter-controller-manager\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Goroutines",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 32
          },
          "id": 38,
          "panels": [],
          "title": "Kubernetes Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 33
          },
          "id": 10,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(container) (container_memory_usage_bytes{pod=~\"rafter-ctrl-mngr-.*\", container!=\"POD\"})",
              "format": "time_series",
              "instant": false,
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "Current: {{container}}",
              "metric": "container_memory_usage_bytes",
              "refId": "A",
              "step": 15
            },
            {
              "expr": "kube_pod_container_resource_requests_memory_bytes{pod=~\"rafter-ctrl-mngr-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_memory_bytes",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_memory_bytes{pod=~\"rafter-ctrl-mngr-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Memory Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 33
          },
          "id": 8,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by (container)(rate(container_cpu_usage_seconds_total{image!=\"\",container!=\"POD\",pod=~\"rafter-controller-manager-.*\"}[1m]))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "{{container}}",
              "refId": "A",
              "step": 30
            },
            {
              "expr": "kube_pod_container_resource_requests_cpu_cores{pod=~\"rafter-ctrl-mngr-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_cpu_cores",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_cpu_cores{pod=~\"rafter-ctrl-mngr-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "CPU Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 40
          },
          "id": 12,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sort_desc(sum by (pod) (rate(container_network_receive_bytes_total{pod=~\"rafter-ctrl-mngr-.*\"}[1m])))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{pod}}",
              "refId": "A",
              "step": 30
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Network I/O",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 18,
      "style": "dark",
      "tags": [
        "assets",
        "kyma"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": true,
              "text": "service-catalog-apiserver",
              "value": "service-catalog-apiserver"
            },
            "hide": 2,
            "label": null,
            "name": "apiserverdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-apiserver",
                "value": "service-catalog-apiserver"
              }
            ],
            "query": "service-catalog-apiserver",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-controller-manager",
              "value": "service-catalog-controller-manager"
            },
            "hide": 2,
            "label": null,
            "name": "controllerdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-controller-manager",
                "value": "service-catalog-controller-manager"
              }
            ],
            "query": "service-catalog-controller-manager",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful-client",
              "value": "service-catalog-etcd-stateful-client"
            },
            "hide": 2,
            "label": null,
            "name": "etcd_cluster",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful-client",
                "value": "service-catalog-etcd-stateful-client"
              }
            ],
            "query": "service-catalog-etcd-stateful-client",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful",
              "value": "service-catalog-etcd-stateful"
            },
            "hide": 2,
            "label": null,
            "name": "etcddeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful",
                "value": "service-catalog-etcd-stateful"
              }
            ],
            "query": "service-catalog-etcd-stateful",
            "skipUrlSync": false,
            "type": "constant"
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "",
      "title":   "Kyma / Rafter /  Controller Manager",
      "uid": "mSTqzBFZka",
      "version": 2
    }
---
# Source: rafter/charts/controller-manager/templates/webhooks-config-map.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: rafter-webhooks-cfg
  namespace: default
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
data:
  
  asyncapi: |-
    {
      "validations":[
        {
          "name": "rafter-asyncapi-service",
          "namespace": "default",
          "endpoint": "/v1/validate"
        }
      ],
      "mutations":[
        {
          "name": "rafter-asyncapi-service",
          "namespace": "default",
          "endpoint": "/v1/convert"
        }
      ]
    }
  markdown: |-
    {
      "metadataExtractors":[
        {
          "name": "rafter-front-matter-service",
          "namespace": "default",
          "endpoint": "/v1/extract",
          "filter": "\\.md$"
        }
      ]
    }
---
# Source: rafter/charts/front-matter-service/templates/dashboard-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: rafter-front-matter-service-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  rafter-front-matter-service-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "editable": false,
      "gnetId": null,
      "graphTooltip": 0,
      "id": 49,
      "iteration": 1575905993255,
      "links": [],
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 42,
          "panels": [],
          "title": "Runtime Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 1
          },
          "id": 16,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_gc_duration_seconds{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{quantile}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "GC duration [s]",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 1
          },
          "id": 24,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "process_open_fds{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{service}}",
              "metric": "process_open_fds",
              "refId": "A",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "open fds",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 1
          },
          "id": 18,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_threads{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Gothreads",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "id": 22,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "alloc rate",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "bytes allocated",
              "metric": "go_memstats_alloc_bytes",
              "refId": "A",
              "step": 4
            },
            {
              "expr": "rate(go_memstats_alloc_bytes_total{service=\"rafter-front-matter-service\"}[30s])",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "alloc rate",
              "metric": "go_memstats_alloc_bytes_total",
              "refId": "B",
              "step": 4
            },
            {
              "expr": "go_memstats_stack_inuse_bytes{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "stack inuse",
              "metric": "go_memstats_stack_inuse_bytes",
              "refId": "C",
              "step": 4
            },
            {
              "expr": "go_memstats_heap_inuse_bytes{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "heap inuse",
              "metric": "go_memstats_heap_inuse_bytes",
              "refId": "D",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "go memstats",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "Bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 8
          },
          "id": 17,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_goroutines{service=\"rafter-front-matter-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Goroutines",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 15
          },
          "id": 38,
          "panels": [],
          "title": "Kubernetes Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 10,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(container) (container_memory_usage_bytes{pod=~\"rafter-front-matter-svc-.*\", container!=\"POD\"})",
              "format": "time_series",
              "instant": false,
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "Current: {{container}}",
              "metric": "container_memory_usage_bytes",
              "refId": "A",
              "step": 15
            },
            {
              "expr": "kube_pod_container_resource_requests_memory_bytes{pod=~\"rafter-front-matter-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_memory_bytes",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_memory_bytes{pod=~\"rafter-front-matter-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Memory Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 8,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by (container)(rate(container_cpu_usage_seconds_total{image!=\"\",container!=\"POD\",pod=~\"rafter-front-matter-svc-.*\"}[1m]))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "{{container}}",
              "refId": "A",
              "step": 30
            },
            {
              "expr": "kube_pod_container_resource_requests_cpu_cores{pod=~\"rafter-front-matter-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_cpu_cores",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_cpu_cores{pod=~\"rafter-front-matter-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "CPU Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 23
          },
          "id": 12,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sort_desc(sum by (pod) (rate(container_network_receive_bytes_total{pod=~\"rafter-front-matter-svc-.*\"}[1m])))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{pod}}",
              "refId": "A",
              "step": 30
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Network I/O",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 30
          },
          "id": 48,
          "panels": [],
          "title": "Service Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "description": "This chart shows a number of requests processed by the /extract endpoint in a given time series (in seconds).",
          "fill": 0,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 50,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.005\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "A"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.01\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "B"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.025\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "C"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.05\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "D"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "E"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.25\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "L"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"0.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "F"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "G"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"2.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "I"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "J"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"10\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "H"
            },
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_bucket{le=\"+Inf\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "K"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of processed HTTP requests",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 44,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_front_matter_service_http_request_returned_status_code",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{status_code}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of returned HTTP response status codes",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "cacheTimeout": null,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "description": "",
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 40
          },
          "id": 52,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_front_matter_service_http_request_duration_seconds_sum/rafter_front_matter_service_http_request_duration_seconds_count",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Average time",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Average HTTP request processing time",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "refresh": "10s",
      "schemaVersion": 18,
      "style": "dark",
      "tags": [
        "assets",
        "kyma"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": true,
              "text": "service-catalog-apiserver",
              "value": "service-catalog-apiserver"
            },
            "hide": 2,
            "label": null,
            "name": "apiserverdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-apiserver",
                "value": "service-catalog-apiserver"
              }
            ],
            "query": "service-catalog-apiserver",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-controller-manager",
              "value": "service-catalog-controller-manager"
            },
            "hide": 2,
            "label": null,
            "name": "controllerdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-controller-manager",
                "value": "service-catalog-controller-manager"
              }
            ],
            "query": "service-catalog-controller-manager",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful-client",
              "value": "service-catalog-etcd-stateful-client"
            },
            "hide": 2,
            "label": null,
            "name": "etcd_cluster",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful-client",
                "value": "service-catalog-etcd-stateful-client"
              }
            ],
            "query": "service-catalog-etcd-stateful-client",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful",
              "value": "service-catalog-etcd-stateful"
            },
            "hide": 2,
            "label": null,
            "name": "etcddeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful",
                "value": "service-catalog-etcd-stateful"
              }
            ],
            "query": "service-catalog-etcd-stateful",
            "skipUrlSync": false,
            "type": "constant"
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "",
      "title":   "Kyma / Rafter /  Front Matter Service",
      "uid": "_MIdIJiDas",
      "version": 2
    }
---
# Source: rafter/charts/upload-service/templates/dashboard-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: rafter-upload-service-dashboard
  labels:
    grafana_dashboard: "1"
    app: monitoring-grafana
data:
  rafter-upload-service-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": "-- Grafana --",
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "type": "dashboard"
          }
        ]
      },
      "editable": false,
      "gnetId": null,
      "graphTooltip": 0,
      "id": 51,
      "iteration": 1575908996184,
      "links": [],
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 42,
          "panels": [],
          "title": "Runtime Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 1
          },
          "id": 16,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_gc_duration_seconds{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{quantile}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "GC duration [s]",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 1
          },
          "id": 24,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "process_open_fds{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{service}}",
              "metric": "process_open_fds",
              "refId": "A",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "open fds",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 1
          },
          "id": 18,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_threads{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Gothreads",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 8
          },
          "id": 22,
          "isNew": true,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "alias": "alloc rate",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_memstats_alloc_bytes{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "bytes allocated",
              "metric": "go_memstats_alloc_bytes",
              "refId": "A",
              "step": 4
            },
            {
              "expr": "rate(go_memstats_alloc_bytes_total{service=\"rafter-upload-service\"}[30s])",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "alloc rate",
              "metric": "go_memstats_alloc_bytes_total",
              "refId": "B",
              "step": 4
            },
            {
              "expr": "go_memstats_stack_inuse_bytes{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "stack inuse",
              "metric": "go_memstats_stack_inuse_bytes",
              "refId": "C",
              "step": 4
            },
            {
              "expr": "go_memstats_heap_inuse_bytes{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "hide": false,
              "intervalFactor": 2,
              "legendFormat": "heap inuse",
              "metric": "go_memstats_heap_inuse_bytes",
              "refId": "D",
              "step": 4
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "go memstats",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "Bps",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "fill": 1,
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 8
          },
          "id": 17,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "go_goroutines{service=\"rafter-upload-service\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{pod}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Goroutines",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 15
          },
          "id": 38,
          "panels": [],
          "title": "Kubernetes Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 10,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(container) (container_memory_usage_bytes{pod=~\"rafter-upload-svc-.*\", container!=\"POD\"})",
              "format": "time_series",
              "instant": false,
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "Current: {{container}}",
              "metric": "container_memory_usage_bytes",
              "refId": "A",
              "step": 15
            },
            {
              "expr": "kube_pod_container_resource_requests_memory_bytes{pod=~\"rafter-upload-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_memory_bytes",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_memory_bytes{pod=~\"rafter-upload-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Memory Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 8,
          "isNew": false,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by (container)(rate(container_cpu_usage_seconds_total{image!=\"\",container!=\"POD\",pod=~\"rafter-upload-svc-.*\"}[1m]))",
              "format": "time_series",
              "intervalFactor": 2,
              "legendFormat": "{{container}}",
              "refId": "A",
              "step": 30
            },
            {
              "expr": "kube_pod_container_resource_requests_cpu_cores{pod=~\"rafter-upload-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Requested: {{container}}",
              "metric": "kube_pod_container_resource_requests_cpu_cores",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "kube_pod_container_resource_limits_cpu_cores{pod=~\"rafter-upload-svc-.*\"}",
              "format": "time_series",
              "interval": "10s",
              "intervalFactor": 2,
              "legendFormat": "Limit: {{container}}",
              "metric": "kube_pod_container_resource_limits_memory_bytes",
              "refId": "C",
              "step": 20
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "CPU Usage",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 23
          },
          "id": 12,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": true,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sort_desc(sum by (pod) (rate(container_network_receive_bytes_total{pod=~\"rafter-upload-svc-.*\"}[1m])))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{pod}}",
              "refId": "A",
              "step": 30
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Network I/O",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 30
          },
          "id": 44,
          "panels": [],
          "title": "Service Metrics",
          "type": "row"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "description": "This chart shows a number of requests processed by the /upload endpoint in a given time series (in seconds).",
          "fill": 0,
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 46,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.005\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "A"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.01\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "B"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.025\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "C"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.05\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "D"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "E"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.25\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "L"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"0.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "F"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"1\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "G"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"2.5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "I"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"5\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "J"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"10\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "H"
            },
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_bucket{le=\"+Inf\"}",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{le}} s",
              "refId": "K"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of processed HTTP requests",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "decimals": null,
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "Prometheus",
          "decimals": 0,
          "fill": 1,
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 50,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "paceLength": 10,
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rafter_upload_service_http_request_returned_status_code",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{status_code}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Number of returned HTTP response status codes",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "#299c46",
            "rgba(237, 129, 40, 0.89)",
            "#d44a3a"
          ],
          "datasource": "Prometheus",
          "decimals": 6,
          "description": "",
          "format": "s",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "gridPos": {
            "h": 3,
            "w": 5,
            "x": 0,
            "y": 40
          },
          "id": 48,
          "interval": null,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [
            {
              "name": "value to text",
              "value": 1
            },
            {
              "name": "range to text",
              "value": 2
            }
          ],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [
            {
              "from": "null",
              "text": "N/A",
              "to": "null"
            }
          ],
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "tableColumn": "",
          "targets": [
            {
              "expr": "rafter_upload_service_http_request_duration_seconds_sum/rafter_upload_service_http_request_duration_seconds_count",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "thresholds": "",
          "timeFrom": null,
          "timeShift": null,
          "title": "Average request processing time",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [
            {
              "op": "=",
              "text": "N/A",
              "value": "null"
            }
          ],
          "valueName": "max"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 18,
      "style": "dark",
      "tags": [
        "assets",
        "kyma"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": true,
              "text": "service-catalog-apiserver",
              "value": "service-catalog-apiserver"
            },
            "hide": 2,
            "label": null,
            "name": "apiserverdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-apiserver",
                "value": "service-catalog-apiserver"
              }
            ],
            "query": "service-catalog-apiserver",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-controller-manager",
              "value": "service-catalog-controller-manager"
            },
            "hide": 2,
            "label": null,
            "name": "controllerdeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-controller-manager",
                "value": "service-catalog-controller-manager"
              }
            ],
            "query": "service-catalog-controller-manager",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful-client",
              "value": "service-catalog-etcd-stateful-client"
            },
            "hide": 2,
            "label": null,
            "name": "etcd_cluster",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful-client",
                "value": "service-catalog-etcd-stateful-client"
              }
            ],
            "query": "service-catalog-etcd-stateful-client",
            "skipUrlSync": false,
            "type": "constant"
          },
          {
            "current": {
              "selected": true,
              "text": "service-catalog-etcd-stateful",
              "value": "service-catalog-etcd-stateful"
            },
            "hide": 2,
            "label": null,
            "name": "etcddeploy",
            "options": [
              {
                "selected": true,
                "text": "service-catalog-etcd-stateful",
                "value": "service-catalog-etcd-stateful"
              }
            ],
            "query": "service-catalog-etcd-stateful",
            "skipUrlSync": false,
            "type": "constant"
          }
        ]
      },
      "time": {
        "from": "now-1h",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "timezone": "",
      "title":   "Kyma / Rafter /  Upload Service",
      "uid": "_MIdIJiZes",
      "version": 1
    }
---
# Source: rafter/charts/controller-manager/charts/minio/templates/pvc.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: RELEASE-NAME-minio
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
spec:
  accessModes:
    - "ReadWriteOnce"
  resources:
    requests:
      storage: "10Gi"
---
# Source: rafter/charts/controller-manager/templates/cluster-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: rafter-controller-manager
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
rules:
- apiGroups:
  - rafter.kyma-project.io
  resources:
  - assetgroups
  - clusterassetgroups
  - assets
  - clusterassets
  - buckets
  - clusterbuckets
  verbs:
  - create
  - delete
  - get
  - list
  - patch
  - update
  - watch
- apiGroups:
  - rafter.kyma-project.io
  resources:
  - assetgroups/status
  - clusterassetgroups/status
  - assets/status
  - clusterassets/status
  - buckets/status
  - clusterbuckets/status
  verbs:
  - get
  - patch
  - update
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - ""
  resources:
  - events
  verbs:
  - create
  - patch
---
# Source: rafter/charts/upload-service/templates/cluster-role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: rafter-upload-service
  labels:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
rules:
- apiGroups: [""]
  resources: ["configmaps"]
  verbs: ["get", "create"]
---
# Source: rafter/templates/tests/rbac.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: RELEASE-NAME-rafter-tests
  labels:
    app.kubernetes.io/name: rafter-tests
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: rafter-1.0.0
rules:
  - apiGroups: [""]
    resources: ["namespaces","configmaps","pods","services"]
    verbs: ["create", "get", "delete", "watch"]
    nonResourceURLs: []
  - apiGroups: ["rafter.kyma-project.io"]
    resources: ["buckets", "clusterbuckets", "assetgroups", "clusterassetgroups", "assets"]
    verbs: ["create", "get", "delete", "list", "deletecollection", "watch"]
---
# Source: rafter/charts/controller-manager/templates/cluster-role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: rafter-controller-manager
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
subjects:
  - kind: ServiceAccount
    name: rafter-controller-manager
    namespace: default
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: rafter-controller-manager
---
# Source: rafter/charts/upload-service/templates/cluster-role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: rafter-upload-service
  labels:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
subjects:
  - kind: ServiceAccount
    name: rafter-upload-service
    namespace: default
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: rafter-upload-service
---
# Source: rafter/templates/tests/rbac.yaml
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: RELEASE-NAME-rafter-tests
  labels:
    app.kubernetes.io/name: rafter-tests
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: rafter-1.0.0
subjects:
  - kind: ServiceAccount
    name: RELEASE-NAME-rafter-tests
    namespace: default
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: RELEASE-NAME-rafter-tests
---
# Source: rafter/charts/controller-manager/charts/minio/templates/role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: RELEASE-NAME-minio
  namespace: default
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
rules:
  - apiGroups: ['policy']
    resources: ['podsecuritypolicies']
    verbs:     ['use']
    resourceNames:
      - RELEASE-NAME-minio
---
# Source: rafter/charts/controller-manager/templates/role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: rafter-controller-manager
  namespace: default
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
rules:
- apiGroups:
  - ""
  resources:
  - configmaps
  verbs:
  - get
  - list
  - watch
  - create
  - update
  - patch
  - delete
- apiGroups:
  - ""
  resources:
  - configmaps/status
  verbs:
  - get
  - update
  - patch
- apiGroups: ['policy']
  resources: ['podsecuritypolicies']
  verbs:     ['use']
  resourceNames:
    - rafter-ctrl-mngr
---
# Source: rafter/templates/role.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: RELEASE-NAME-rafter
  namespace: default
rules:
  - apiGroups: ['policy']
    resources: ['podsecuritypolicies']
    verbs:     ['use']
    resourceNames:
      - RELEASE-NAME-rafter
---
# Source: rafter/charts/asyncapi-service/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: rafter-asyncapi-service
  namespace: default
  labels:
    app.kubernetes.io/name: asyncapi-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: asyncapi-service-0.1.0
roleRef:
  kind: Role
  name: rafter-asyncapi-service
  apiGroup: rbac.authorization.k8s.io
subjects:
  - kind: ServiceAccount
    name: rafter-asyncapi-service
    namespace: "default"
---
# Source: rafter/charts/controller-manager/charts/minio/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: RELEASE-NAME-minio
  namespace: default
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
roleRef:
  kind: Role
  name: RELEASE-NAME-minio
  apiGroup: rbac.authorization.k8s.io
subjects:
  - kind: ServiceAccount
    name: "RELEASE-NAME-minio"
    namespace: "default"
---
# Source: rafter/charts/controller-manager/templates/role-binding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: rafter-controller-manager
  namespace: default
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
subjects:
  - kind: ServiceAccount
    name: rafter-controller-manager
    namespace: default
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: rafter-controller-manager
---
# Source: rafter/charts/front-matter-service/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: rafter-front-matter-service
  namespace: default
  labels:
    app.kubernetes.io/name: front-matter-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: front-matter-service-0.1.0
roleRef:
  kind: Role
  name: rafter-front-matter-service
  apiGroup: rbac.authorization.k8s.io
subjects:
  - kind: ServiceAccount
    name: rafter-front-matter-service
    namespace: "default"
---
# Source: rafter/charts/upload-service/templates/rolebinding.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: rafter-upload-service
  namespace: default
  labels:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
roleRef:
  kind: Role
  name: rafter-upload-service
  apiGroup: rbac.authorization.k8s.io
subjects:
  - kind: ServiceAccount
    name: rafter-upload-service
    namespace: "default"
---
# Source: rafter/charts/asyncapi-service/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: rafter-asyncapi-service
  labels:
    app.kubernetes.io/name: asyncapi-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: asyncapi-service-0.1.0
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 3000
  selector:
    app.kubernetes.io/name: asyncapi-service
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/controller-manager/charts/minio/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: RELEASE-NAME-minio
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
spec:
  type: ClusterIP
  ports:
    - name: http-service
      port: 9000
      protocol: TCP
      targetPort: 9000
  selector:
    app: minio
    release: RELEASE-NAME
---
# Source: rafter/charts/controller-manager/templates/metrics-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: rafter-controller-manager
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
spec:
  type: ClusterIP
  ports:
    - name: metrics
      port: 8080
      protocol: TCP
      targetPort: metrics
  selector:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/front-matter-service/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: rafter-front-matter-service
  labels:
    app.kubernetes.io/name: front-matter-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: front-matter-service-0.1.0
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 3000
  selector:
    app.kubernetes.io/name: front-matter-service
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/upload-service/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: rafter-upload-service
  labels:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 80
      protocol: TCP
      targetPort: 3000
  selector:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/asyncapi-service/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: rafter-asyncapi-svc
  labels:
    app.kubernetes.io/name: asyncapi-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: asyncapi-service-0.1.0
    kyma-project.io/component: backend
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: asyncapi-service
      app.kubernetes.io/instance: RELEASE-NAME
  
  strategy:
    rollingUpdate:
      maxUnavailable: 0
    type: RollingUpdate
  template:
    metadata:
      labels:
        app: asyncapi-service
        app.kubernetes.io/name: asyncapi-service
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        helm.sh/chart: asyncapi-service-0.1.0
        kyma-project.io/component: backend
      annotations:
        
        sidecar.istio.io/inject: "false"
    spec:
      
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
      serviceAccountName: rafter-asyncapi-service
      containers:
        - name: asyncapi-service
          image: "eu.gcr.io/kyma-project/rafter-asyncapi-service:f8031ac4"
          imagePullPolicy: IfNotPresent
          resources:
            requests:
              memory: "32Mi"
              cpu: "50m"
            limits:
              memory: "128Mi"
              cpu: "150m"
          
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          env:
            - name: APP_SERVICE_PORT
              value: "3000"
            - name: APP_SERVICE_HOST
              value: "0.0.0.0"
            
            - name: APP_VERBOSE
              value: "true"
---
# Source: rafter/charts/controller-manager/charts/minio/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: RELEASE-NAME-minio
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
spec:
  strategy:
    type: Recreate
  selector:
    matchLabels:
      app: minio
      release: RELEASE-NAME
  template:
    metadata:
      name: RELEASE-NAME-minio
      labels:
        app: minio
        release: RELEASE-NAME
        persistence: "on"
        sidecar.istio.io/inject: "false"
    spec:
      
      securityContext:
        fsGroup: 1000
        runAsGroup: 1000
        runAsNonRoot: true
        runAsUser: 1000
      serviceAccountName: "RELEASE-NAME-minio"
      containers:
        - name: minio
          image: "eu.gcr.io/kyma-project/tpi/minio/minio:RELEASE.2020-09-21T22-31-59Z-e85e5eaf"
          imagePullPolicy: IfNotPresent
          
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          command: [ "/bin/sh",
          "-ce",
          "/usr/bin/docker-entrypoint.sh minio -C /root/.minio/ server /export" ]
          volumeMounts:
            - name: export
              mountPath: /export
            - name: minio-config-dir
              mountPath: /root/.minio/
          ports:
            - name: http-service
              containerPort: 9000
          env:
            - name: MINIO_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: RELEASE-NAME-minio
                  key: accesskey
            - name: MINIO_SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: RELEASE-NAME-minio
                  key: secretkey
            - name: MINIO_BROWSER
              value: "off"
            - name: MINIO_PROMETHEUS_AUTH_TYPE
              value: "public"
          livenessProbe:
            httpGet:
              path: /minio/health/live
              port: http-service
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 30
            timeoutSeconds: 1
            successThreshold: 1
            failureThreshold: 3
          readinessProbe:
            httpGet:
              path: /minio/health/ready
              port: http-service
            initialDelaySeconds: 5
            periodSeconds: 15
            timeoutSeconds: 1
            successThreshold: 1
            failureThreshold: 3
          resources:
            limits:
              cpu: 250m
              memory: 320Mi
            requests:
              cpu: 10m
              memory: 32Mi
      volumes:
        - name: export
          persistentVolumeClaim:
            claimName: RELEASE-NAME-minio
        - name: minio-user
          secret:
            secretName: RELEASE-NAME-minio
        - name: minio-config-dir
          emptyDir: {}
---
# Source: rafter/charts/controller-manager/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: rafter-ctrl-mngr
  namespace: default
  labels:
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
    kyma-project.io/component: controller
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: controller-manager
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      labels:
        app.kubernetes.io/name: controller-manager
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        helm.sh/chart: controller-manager-0.1.0
        kyma-project.io/component: controller
      annotations:
        
        sidecar.istio.io/inject: "false"
        
        prometheus.io/path: /metrics
        prometheus.io/port: "8080"
        prometheus.io/scrape: "true"
    spec:
      serviceAccountName: rafter-controller-manager
      volumes:
        
        - emptyDir: {}
          name: tmp-empty-dir
      
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
      containers:
        - name: controller-manager
          image: "eu.gcr.io/kyma-project/rafter-controller-manager:f8031ac4"
          imagePullPolicy: IfNotPresent
          command:
            - /app/main
          args:
            
            - --metrics-addr
            - :8080
          ports:
            - name: metrics
              containerPort: 8080
              protocol: TCP
          resources:
            
            limits:
              cpu: 150m
              memory: 128Mi
            requests:
              cpu: 10m
              memory: 32Mi
          volumeMounts:
            
            - mountPath: /tmp
              name: tmp-empty-dir
          
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          env:
            # ClusterAssetsGroup
            
            - name: APP_CLUSTER_ASSET_GROUP_RELIST_INTERVALL
              value: 5m
            # AssetsGroup
            
            - name: APP_ASSET_GROUP_RELIST_INTERVALL
              value: 5m
            # ClusterBuckets
            
            - name: APP_CLUSTER_BUCKET_RELIST_INTERVAL
              value: 30s
            
            - name: APP_CLUSTER_BUCKET_MAX_CONCURRENT_RECONCILES
              value: "1"
            
            - name: APP_CLUSTER_BUCKET_REGION
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_BUCKET_REGION
                  name: rafter-minio-envs
            # Buckets
            
            - name: APP_BUCKET_RELIST_INTERVAL
              value: 30s
            
            - name: APP_BUCKET_MAX_CONCURRENT_RECONCILES
              value: "1"
            
            - name: APP_BUCKET_REGION
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_BUCKET_REGION
                  name: rafter-minio-envs
            # ClusterAssets
            
            - name: APP_CLUSTER_ASSET_RELIST_INTERVAL
              value: 30s
            
            - name: APP_CLUSTER_ASSET_MAX_CONCURRENT_RECONCILES
              value: "1"
            # Assets
            
            - name: APP_ASSET_RELIST_INTERVAL
              value: 30s
            
            - name: APP_ASSET_MAX_CONCURRENT_RECONCILES
              value: "1"
            # Store
            
            - name: APP_STORE_ENDPOINT
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_UPLOAD_ENDPOINT_WITH_PORT
                  name: rafter-minio-envs
            
            - name: APP_STORE_EXTERNAL_ENDPOINT
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_EXTERNAL_ENDPOINT
                  name: rafter-minio-envs
            
            - name: APP_STORE_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  key: accesskey
                  name: rafter-minio
            
            - name: APP_STORE_SECRET_KEY
              valueFrom:
                secretKeyRef:
                  key: secretkey
                  name: rafter-minio
            
            - name: APP_STORE_USE_SSL
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_UPLOAD_SECURE
                  name: rafter-minio-envs
            
            - name: APP_STORE_UPLOAD_WORKERS_COUNT
              value: "10"
            # Loader
            
            - name: APP_LOADER_VERIFY_SSL
              value: "false"
            
            - name: APP_LOADER_TEMPORARY_DIRECTORY
              value: /tmp
            # Webhooks
            
            - name: APP_WEBHOOK_VALIDATION_TIMEOUT
              value: 1m
            
            - name: APP_WEBHOOK_VALIDATION_WORKERS_COUNT
              value: "10"
            
            - name: APP_WEBHOOK_MUTATION_TIMEOUT
              value: 1m
            
            - name: APP_WEBHOOK_MUTATION_WORKERS_COUNT
              value: "10"
            
            - name: APP_WEBHOOK_METADATA_EXTRACTION_TIMEOUT
              value: 1m
            - name: APP_WEBHOOK_CONFIG_MAP_CFG_MAP_NAME
              value: rafter-webhooks-cfg
            - name: APP_WEBHOOK_CONFIG_MAP_CFG_MAP_NAMESPACE
              value: default
            - name: APP_LOG_LEVEL
              value: info
---
# Source: rafter/charts/front-matter-service/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: rafter-front-matter-svc
  labels:
    app.kubernetes.io/name: front-matter-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: front-matter-service-0.1.0
    kyma-project.io/component: backend
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: front-matter-service
      app.kubernetes.io/instance: RELEASE-NAME
  
  strategy:
    rollingUpdate:
      maxUnavailable: 0
    type: RollingUpdate
  template:
    metadata:
      labels:
        app.kubernetes.io/name: front-matter-service
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        helm.sh/chart: front-matter-service-0.1.0
        kyma-project.io/component: backend
      annotations:
        
        sidecar.istio.io/inject: "false"
    spec:
      serviceAccountName: rafter-front-matter-service
      
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
      containers:
        - name: front-matter-service
          image: "eu.gcr.io/kyma-project/rafter-front-matter-service:f8031ac4"
          imagePullPolicy: IfNotPresent
          resources:
            requests:
              memory: "64Mi"
              cpu: "50m"
            limits:
              memory: "128Mi"
              cpu: "150m"
          
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          env:
            - name: APP_PORT
              value: "3000"
            - name: APP_HOST
              value: "0.0.0.0"
            
            - name: APP_VERBOSE
              value: "true"
            
            - name: APP_PROCESS_TIMEOUT
              value: 1m
            
            - name: APP_MAX_WORKERS
              value: "10"
---
# Source: rafter/charts/upload-service/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: rafter-upload-svc
  labels:
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
    kyma-project.io/component: backend
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: upload-service
      app.kubernetes.io/instance: RELEASE-NAME
  
  strategy:
    rollingUpdate:
      maxUnavailable: 0
    type: RollingUpdate
  template:
    metadata:
      labels:
        app.kubernetes.io/name: upload-service
        app.kubernetes.io/instance: RELEASE-NAME
        app.kubernetes.io/managed-by: Helm
        helm.sh/chart: upload-service-0.1.0
        kyma-project.io/component: backend
      annotations:
        
        sidecar.istio.io/inject: "false"
    spec:
      serviceAccountName: rafter-upload-service
      
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
      containers:
        - name: upload-service
          image: "eu.gcr.io/kyma-project/rafter-upload-service:f8031ac4"
          imagePullPolicy: IfNotPresent
          resources:
            requests:
              memory: "64Mi"
              cpu: "50m"
            limits:
              memory: "128Mi"
              cpu: "500m"
          
          securityContext:
            allowPrivilegeEscalation: false
            privileged: false
          env:
            - name: APP_PORT
              value: "3000"
            - name: APP_HOST
              value: "0.0.0.0"
            
            - name: APP_VERBOSE
              value: "true"
            
            
            # Upload
            
            
            
            
            
            - name: APP_UPLOAD_ENDPOINT
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_UPLOAD_ENDPOINT
                  name: rafter-minio-envs
            
            - name: APP_UPLOAD_EXTERNAL_ENDPOINT
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_INTERNAL_ENDPOINT
                  name: rafter-minio-envs
            
            - name: APP_UPLOAD_PORT
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_UPLOAD_PORT
                  name: rafter-minio-envs
            
            - name: APP_UPLOAD_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  key: accesskey
                  name: rafter-minio
            
            - name: APP_UPLOAD_SECRET_KEY
              valueFrom:
                secretKeyRef:
                  key: secretkey
                  name: rafter-minio
            
            - name: APP_UPLOAD_SECURE
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_UPLOAD_SECURE
                  name: rafter-minio-envs
            # Bucket
            
            - name: APP_BUCKET_PRIVATE_PREFIX
              value: system-private
            
            - name: APP_BUCKET_PUBLIC_PREFIX
              value: system-public
            
            - name: APP_BUCKET_REGION
              value: ""
              valueFrom:
                configMapKeyRef:
                  key: APP_BUCKET_REGION
                  name: rafter-minio-envs
            # Config map
            
            - name: APP_CONFIG_MAP_ENABLED
              value: "true"
            
            - name: APP_CONFIG_MAP_NAME
              value: rafter-upload-service
            
            - name: APP_CONFIG_MAP_NAMESPACE
              value: 'default'
---
# Source: rafter/charts/controller-manager/charts/minio/templates/destination-rule.yaml
apiVersion: "networking.istio.io/v1alpha3"
kind: "DestinationRule"
metadata:
  name: RELEASE-NAME-minio
spec:
  host: RELEASE-NAME-minio.default.svc.cluster.local
  trafficPolicy:
    tls:
      mode: DISABLE
---
# Source: rafter/charts/upload-service/templates/destination-rule.yaml
apiVersion: "networking.istio.io/v1alpha3"
kind: "DestinationRule"
metadata:
  name: rafter-upload-service
spec:
  host: rafter-upload-service.default.svc.cluster.local
  trafficPolicy:
    tls:
      mode: DISABLE
---
# Source: rafter/charts/asyncapi-service/templates/service-monitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: 
    rafter-asyncapi-service
  labels:
    prometheus: monitoring
    app.kubernetes.io/name: asyncapi-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: asyncapi-service-0.1.0
spec:
  endpoints:
    - port: http
      path: /metrics
      metricRelabelings:
      - sourceLabels: [ __name__ ]
        regex: ^(container_cpu_usage_seconds_total|container_network_receive_bytes_total|go_gc_duration_seconds|go_goroutines|go_memstats_alloc_bytes|go_memstats_heap_alloc_bytes|go_memstats_heap_inuse_bytes|go_memstats_heap_sys_bytes|go_memstats_stack_inuse_bytes|go_threads|kube_pod_container_resource_requests_cpu_cores|process_cpu_seconds_total|process_max_fds|process_open_fds|process_resident_memory_bytes|process_start_time_seconds|process_virtual_memory_bytes|rafter_services_http_request_and_mutation_duration_seconds_bucket|rafter_services_http_request_and_validation_duration_seconds_bucket|rafter_services_http_request_and_mutation_duration_seconds_sum|rafter_services_http_request_and_mutation_duration_seconds_count|rafter_services_http_request_and_validation_duration_seconds_sum|rafter_services_http_request_and_validation_duration_seconds_count|rafter_services_handle_mutation_status_code|rafter_services_handle_validation_status_code)$
        action: keep
  selector:
    matchLabels:
      app.kubernetes.io/name: asyncapi-service
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/controller-manager/charts/minio/templates/servicemonitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: RELEASE-NAME-minio
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
    prometheus: monitoring
spec:
  endpoints:
    - port: http-service
      path: /minio/prometheus/metrics
  namespaceSelector:
    matchNames:
      - default
  selector:
    matchLabels:
      app: minio
      release: RELEASE-NAME
---
# Source: rafter/charts/controller-manager/templates/service-monitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: 
    rafter-controller-manager
  labels:
    prometheus: monitoring
    app.kubernetes.io/name: controller-manager
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: controller-manager-0.1.0
spec:
  endpoints:
    - port: metrics
      path: /metrics
      metricRelabelings:
      - sourceLabels: [ __name__ ]
        regex: ^(container_network_receive_bytes_total|go_gc_duration_seconds|go_goroutines|go_memstats_alloc_bytes|go_memstats_heap_alloc_bytes|go_memstats_heap_inuse_bytes|go_memstats_heap_sys_bytes|go_memstats_stack_inuse_bytes|go_threads|process_cpu_seconds_total|process_max_fds|process_open_fds|process_resident_memory_bytes|process_start_time_seconds|process_virtual_memory_bytes|rest_client_requests_total|workqueue_adds_total|workqueue_depth|workqueue_queue_duration_seconds_bucket|workqueue_queue_duration_seconds_sum|workqueue_queue_duration_seconds_count|workqueue_work_duration_seconds_sum|workqueue_work_duration_seconds_count)$
        action: keep
  selector:
    matchLabels:
      app.kubernetes.io/name: controller-manager
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/front-matter-service/templates/service-monitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: 
    rafter-front-matter-service
  labels:
    prometheus: monitoring
    app.kubernetes.io/name: front-matter-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: front-matter-service-0.1.0
spec:
  endpoints:
    - port: http
      path: /metrics
      metricRelabelings:
      - sourceLabels: [ __name__ ]
        regex: ^(container_cpu_usage_seconds_total|container_network_receive_bytes_total|go_gc_duration_seconds|go_goroutines|go_memstats_alloc_bytes|go_memstats_heap_alloc_bytes|go_memstats_heap_inuse_bytes|go_memstats_heap_sys_bytes|go_memstats_stack_inuse_bytes|go_threads|kube_pod_container_resource_requests_cpu_cores|process_cpu_seconds_total|process_max_fds|process_open_fds|process_resident_memory_bytes|process_start_time_seconds|process_virtual_memory_bytes|rafter_front_matter_service_http_request_duration_seconds_bucket|rafter_front_matter_service_http_request_returned_status_code|rafter_front_matter_service_http_request_duration_seconds_sum|rafter_front_matter_service_http_request_duration_seconds_count)$
        action: keep
  selector:
    matchLabels:
      app.kubernetes.io/name: front-matter-service
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/charts/upload-service/templates/service-monitor.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: 
    rafter-upload-service
  labels:
    prometheus: monitoring
    app.kubernetes.io/name: upload-service
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: upload-service-0.1.0
spec:
  endpoints:
    - port: http
      path: /metrics
      metricRelabelings:
      - sourceLabels: [ __name__ ]
        regex: ^(container_cpu_usage_seconds_total|container_network_receive_bytes_total|go_gc_duration_seconds|go_goroutines|go_memstats_alloc_bytes|go_memstats_heap_alloc_bytes|go_memstats_heap_inuse_bytes|go_memstats_heap_sys_bytes|go_memstats_stack_inuse_bytes|go_threads|kube_pod_container_resource_requests_cpu_cores|process_cpu_seconds_total|process_max_fds|process_open_fds|process_resident_memory_bytes|process_start_time_seconds|process_virtual_memory_bytes|rafter_upload_service_http_request_duration_seconds_bucket|rafter_upload_service_http_request_returned_status_code|rafter_upload_service_http_request_duration_seconds_sum|rafter_upload_service_http_request_duration_seconds_count)$
        action: keep
  selector:
    matchLabels:
      app.kubernetes.io/name: upload-service
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: rafter/templates/tests/test.yaml
apiVersion: "testing.kyma-project.io/v1alpha1"
kind: TestDefinition
metadata:
  name: RELEASE-NAME-rafter
  labels:
    app.kubernetes.io/name: rafter-tests
    app.kubernetes.io/instance: RELEASE-NAME
    app.kubernetes.io/managed-by: Helm
    helm.sh/chart: rafter-1.0.0
    kyma-project.io/test.after-upgrade: "true"
    kyma-project.io/test.e2e-skr: "true"
    kyma-project.io/test.integration: "true"

spec:
  disableConcurrency: true
  template:
    metadata:
      labels:
        app.kubernetes.io/name: rafter-tests
      annotations:
        sidecar.istio.io/inject: "true"
    spec:
      securityContext:
        runAsNonRoot: true
        runAsUser: 1000
        fsGroup: 1000
        runAsGroup: 1000
      serviceAccountName:  RELEASE-NAME-rafter-tests
      restartPolicy: Never
      containers:
        - name: rafter-tests
          image: "eu.gcr.io/kyma-project/rafter-test:PR-12326"
          imagePullPolicy: IfNotPresent
          securityContext:
            privileged: false
            allowPrivilegeEscalation: false
          command:
            - "/bin/sh"
          args:
            - "-c"
            - |
              echo 'TESTING has started'
              sleep 20
              /app/main.test
              exit_code=$?
              echo exit_code is $exit_code
              echo 'stopping pilot-agent...'
              curl -XPOST http://127.0.0.1:15020/quitquitquit
              sleep 4
              exit $exit_code
          env:
            - name: MOCKICE_IMAGE
              value: "eu.gcr.io/kyma-project/external/hudymi/mockice:0.1.3"
            - name: APP_TEST_WAIT_TIMEOUT
              value: "10m"
            - name: APP_FILE_CLIENT_CONFIG_VERIFY_SSL
              value: "false"
          resources:
            limits:
              memory: 128Mi
---
# Source: rafter/charts/controller-manager/charts/minio/templates/ensure-secret-job.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: RELEASE-NAME-minio-ensure-secret-job
  namespace: default
  annotations:
    helm.sh/hook: "pre-install, pre-upgrade"
    helm.sh/hook-delete-policy: "before-hook-creation, hook-succeeded"
    helm.sh/hook-weight: "0"
---
# Source: rafter/charts/controller-manager/charts/minio/templates/ensure-secret-job.yaml
apiVersion: v1
kind: Secret
metadata:
  annotations:
    helm.sh/hook: "pre-install, pre-upgrade"
    helm.sh/hook-weight: "0"
    helm.sh/hook-delete-policy: "before-hook-creation, hook-succeeded"
  name: RELEASE-NAME-minio-credentials
  labels:
    app: minio
    chart: minio-3.0.1
    release: RELEASE-NAME
    heritage: Helm
type: Opaque
data:
  accesskey: "NDJoSXZMelRxdHBhOTE5Q3U3RnU="
  secretkey: "bEZBMFgyc25md3F5QmFrNm9tQ0dFMWJsRDdXcGlmNzc1SUpkZ3RRNA=="
---
# Source: rafter/charts/controller-manager/charts/minio/templates/ensure-secret-job.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: RELEASE-NAME-minio-ensure-secret-job
  namespace: default
  annotations:
    helm.sh/hook: "pre-install, pre-upgrade"
    helm.sh/hook-weight: "0"
    helm.sh/hook-delete-policy: "before-hook-creation, hook-succeeded"
data:
  ensure-secret: |-
    #!/usr/bin/env bash
    
    set -o errexit
    set -o nounset
    set -o pipefail
    
    set +o errexit
    kubectl get secret -n "${NAMESPACE}" "${SECRET_NAME}"
    EXIT_CODE=$?
    set -o errexit
    
    if [[ $EXIT_CODE -eq "0" ]]; then
      # if the secret with the given name is found in the given namespace,
      # annotate it with helm.sh/resource-policy: keep annotation;
      kubectl annotate secret -n "${NAMESPACE}" "${SECRET_NAME}" helm.sh/resource-policy=keep --overwrite
    
      GCS_KEY_JSON=${GCS_KEY_JSON:-""}
      if [[ -n "$GCS_KEY_JSON" ]]; then
        GCS_KEY_JSON_ENCODED=$(echo -n "$GCS_KEY_JSON" | base64 --wrap 0 )
        PATCH_VALUE='{"data": {"gcs_key.json":"'"${GCS_KEY_JSON_ENCODED}"'"}}'
        kubectl patch secret -n "${NAMESPACE}" "${SECRET_NAME}" \
        --type merge --patch "${PATCH_VALUE}"
      fi
    
    else
      kubectl create secret generic -n "${NAMESPACE}" "${SECRET_NAME}" \
      --from-literal=accesskey="${MINIO_ACCESS_KEY}" \
      --from-literal=secretkey="${MINIO_SECRET_KEY}" \
      ${GCS_KEY_JSON:+--from-literal=gcs_key.json="${GCS_KEY_JSON}"}
    fi
---
# Source: rafter/charts/controller-manager/charts/minio/templates/ensure-secret-job.yaml
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: RELEASE-NAME-minio-ensure-secret-job
  annotations:
    helm.sh/hook: "pre-install, pre-upgrade"
    helm.sh/hook-delete-policy: "before-hook-creation, hook-succeeded"
    helm.sh/hook-weight: "0"
rules:
  - apiGroups: ["*"]
    resources: ["secrets"]
    verbs: ["create", "get", "patch"]
---
# Source: rafter/charts/controller-manager/charts/minio/templates/ensure-secret-job.yaml
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: RELEASE-NAME-minio-ensure-secret-job
  annotations:
    helm.sh/hook: "pre-install, pre-upgrade"
    helm.sh/hook-delete-policy: "before-hook-creation, hook-succeeded"
    helm.sh/hook-weight: "0"
subjects:
- kind: ServiceAccount
  name: RELEASE-NAME-minio-ensure-secret-job
  namespace: default
roleRef:
  kind: ClusterRole
  name: RELEASE-NAME-minio-ensure-secret-job
  apiGroup: rbac.authorization.k8s.io
---
# Source: rafter/charts/controller-manager/charts/minio/templates/ensure-secret-job.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: RELEASE-NAME-minio-ensure-secret-job
  namespace: default
  annotations:
    helm.sh/hook: pre-install, pre-upgrade
    helm.sh/hook-weight: "1"
    helm.sh/hook-delete-policy: "before-hook-creation, hook-succeeded"
spec:
  template:
    metadata:
      annotations:
        sidecar.istio.io/inject: "false"
    spec:
      
      securityContext:
        fsGroup: 1000
        runAsGroup: 1000
        runAsNonRoot: true
        runAsUser: 1000
      serviceAccountName: RELEASE-NAME-minio-ensure-secret-job
      restartPolicy: OnFailure
      volumes:
        - name: ensure-secret
          projected:
            sources:
            - configMap:
                name: RELEASE-NAME-minio-ensure-secret-job
      containers:
      - name: ensure-secret-job
        image: "eu.gcr.io/kyma-project/tpi/k8s-tools:20210922-530cfc39"
        imagePullPolicy: "IfNotPresent"
        
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
        env:
        - name: NAMESPACE
          value: "default"
        - name: SECRET_NAME
          value: "RELEASE-NAME-minio"
        - name: MINIO_ACCESS_KEY
          valueFrom:
            secretKeyRef:
              name: RELEASE-NAME-minio-credentials
              key: accesskey
        - name: MINIO_SECRET_KEY
          valueFrom:
            secretKeyRef:
              name: RELEASE-NAME-minio-credentials
              key: secretkey
        command:
          - "/bin/bash"
          - "/config/ensure-secret"
        volumeMounts:
          - name: ensure-secret
            mountPath: /config
